@PART[AN-FR-5S-HTV-H3]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	
	@mass = 1.4
	
}

@PART[AN-HTV-Avio-Module]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	
	@mass = 1.2
	
	!MODULE[ModuleReactionWheel]{}
	
}

@PART[AN-HTV-Pres-Carrier]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	
	@mass = 2.7
	
	!RESOURCE[Ore]{}
	!RESOURCE[MonoPropellant]{}
	!RESOURCE[LiquidFuel]{}
	!RESOURCE[Oxidizer]{}
	
	MODULE
	{
		name = ModuleFuelTanks
		volume = 14000.0
		type = ServiceModule
		basemass = -1
		
	}
	
	!MODULE[ModuleRCS]{}
	
	MODULE
	{
		name = ModuleRCSFX
		thrusterTransformName = RCSthruster
		thrusterPower = 0.11

		PROPELLANT
		{
			name = MMH
			ratio = 0.4943
			DrawGauge = True
		}
		PROPELLANT
		{
			name = MON3
			ratio = 0.5057
		}
		atmosphereCurve
		{
			key = 0 316
			key = 1 100
		}
	}
	
	@MODULE[ModuleDockingNode]
	{
		@nodeType = CBM
		%acquireForce = 0.5 // 2
		%acquireMinFwdDot = 0.8 // 0.7
		%acquireminRollDot = -3.40282347E+38
		%acquireRange = 0.25 // 0.5
		%acquireTorque = 0.5 // 2.0
		%captureMaxRvel = 0.1 // 0.3
		%captureMinFwdDot = 0.998
		%captureMinRollDot = -3.40282347E+38
		%captureRange = 0.05 // 0.06
		%minDistanceToReEngage = 0.25 // 1.0
		%undockEjectionForce = 0.1 // 10
	}
	
}

@PART[AN-HTV-Prop-Module]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	
	@mass = 1.2
	
	MODULE
	{
		name = ModuleFuelTanks
		volume = 2400.0
		type = ServiceModule
		basemass = -1
		
		TANK
		{
			name = MMH
			amount = 1186.32
			maxAmount = 1186.32
		}
		TANK
		{
			name = MON3
			amount = 1213.68
			maxAmount = 1213.68
		}
		
	}
	
	@MODULE[ModuleEngines*]
    {
        @minThrust = 2.0
        @maxThrust = 2.0
        %heatProduction = 28
		
		@PROPELLANT[LiquidFuel]
		{
			@name = MMH
			@ratio = 0.4943
		}
		@PROPELLANT[Oxidizer]
		{
			@name = MON3
			@ratio = 0.5057
		}
		@atmosphereCurve
		{
			@key,0 = 0 316
			@key,1 = 1 100
		}
		
        %ullage = False
        %pressureFed = True
        %ignitions = 500
		
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}

    }
	
	!MODULE[ModuleRCS]{}
	
	MODULE
	{
		name = ModuleRCSFX
		thrusterTransformName = RCSthruster
		thrusterPower = 0.11

		PROPELLANT
		{
			name = MMH
			ratio = 0.4943
			DrawGauge = True
		}
		PROPELLANT
		{
			name = MON3
			ratio = 0.5057
		}
		atmosphereCurve
		{
			key = 0 316
			key = 1 100
		}
	}
	
}

@PART[AN-HTV-UnPres-Carrier]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	
	@mass = 2.7
	
	MODULE
	{
		name = ModuleFuelTanks
		volume = 96.0
		type = ServiceModule
		basemass = -1
		
		TANK
		{
			name = ElectricCharge
			amount = 96000.0
			maxAmount = 96000.0
		}
		
	}
	
}

@PART[AN-HTV-R-Decoupler]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	
}

@PART[AN-HTV-Prop-Module]:FOR[RealPlume]:NEEDS[SmokeScreen]
{
	PLUME
    {
        name = Hypergolic-OMS-White            //pre-fabbed plume you want
        transformName = thrustTransform //which transform to attach the plume
        localRotation = 0,0,0           //Optional - Any rotation needed
        localPosition = 0,0,0.0          //Any offset needed
        fixedScale = 1                  //Size adjustment to resize to engine
        energy = 1                      //Adjust length of plume
        speed = 1                       //Adjust speed to fit resize, 
                                        //generally close to 1:1 with scale.
    }
    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
    }
    @MODULE[ModuleEngineConfigs]
    {
        %type = ModuleEnginesRF
        @CONFIG,*   //Add the effect to every engine config
        {
            %powerEffectName = Hypergolic-OMS-White 
        }
    }
}

@PART[AN-HTV-Prop-Module]:FINAL
{
		@EFFECTS
		{
			Hypergolic-OMS-White
			{
				plumeIdentifier = Hypergolic-OMS-White
				MODEL_MULTI_SHURIKEN_PERSIST
				{
					transformName = thrustTransform
					localRotation = 0,0,0
					localPosition = 0,0,0
					fixedScale = 1
					energy = 1
					speed = 1
					emissionMult = 0.5
					alphaMult = 1
					saturationMult = 1
					name = Hypergolic-OMS-White-flare
					modelName = RealPlume/MP_Nazari_FX/ssmeflame2
					emission = 0.0 0
					emission = 0.01 0.2
					emission = 1.0 2
					speed = 0.0 5
					speed = 1.0 5
					offset = -1
					energy = 0.0 0.5
					energy = 1.0 0.5
					size = 0.0 2
					size = 1.0 2
					fixedEmissions = false
					randomInitalVelocityOffsetMaxRadius = 0.2
					linGrow
					{
						power = 1 15
						power = 0 15
					}
				}
				MODEL_MULTI_SHURIKEN_PERSIST
				{
					transformName = thrustTransform
					localRotation = 0,0,0
					localPosition = 0,0,0
					fixedScale = 1
					emissionMult = 0.5
					alphaMult = 1
					saturationMult = 1
					name = Hypergolic-OMS-White-plumeboundary
					modelName = RealPlume/Hoojiwana_FX/MPmed
					fixedEmissions = false
					sizeClamp = 50
					randomInitalVelocityOffsetMaxRadius = 0
					randConeEmit
					{
						density = 1 0.2
						density = 0.3 0.4
						density = 0 0.7
					}
					logGrow
					{
						density = 1.0 2
						density = 0.1 2
						density = 0.0 2
					}
					logGrowScale
					{
						density = 1.0 0.0
						density = 0.8 0
						density = 0.46 0
						density = 0.2 2
						density = 0.1 3
						density = 0.0 3
					}
					linGrow
					{
						density = 1.0 0
						density = 0.46 0.0
						density = 0.2 5
						density = 0.05 7
						density = 0.0 8
					}
					grow
					{
						density = 1 -0.99
						density = 0.8 0
						density = 0.0 20
					}
					speed
					{
						density = 1.0 0.7
						density = 0.46 1
						density = 0.2 1.5
						density = 0.05 1.8
						density = 0.0 1.9
					}
					emission
					{
						density = 1.0 1.5
						density = 0.8 1.5
						density = 0.2 1.7
						density = 0.1 1.7
						density = 0.05 2
						density = 0.0 2.5
						power = 1 1
						power = 0.01 0.2
						power = 0 0
					}
					energy
					{
						density = 1.0 2
						density = 0.3 1.7
						density = 0.05 0.8
						density = 0.0 0.7
					}
					size
					{
						density = 1.0 0.85
						density = 0.8 0.80
						density = 0.2 0.65
						density = 0.0 0.75
					}
				}
				AUDIO
				{
					name = Hypergolic-OMS-White-audio
					channel = Ship
					clip = RealPlume/KW_Sounds/sound_spsloop
					volume = 0.0 0.0
					volume = 1.0 1
					pitch = 0.0 1.0
					pitch = 1.0 1.0
					loop = true
				}
			}
			engage
			{
				AUDIO
				{
					channel = Ship
					clip = RealPlume/KW_Sounds/sound_sps
					volume = 1
					pitch = 1.0
					loop = false
				}
			}
			disengage
			{
				AUDIO
				{
					channel = Ship
					clip = sound_vent_soft
					volume = 1.0
					pitch = 2.0
					loop = false
				}
			}
			flameout
			{
				AUDIO
				{
					channel = Ship
					clip = sound_explosion_low
					volume = 1.0
					pitch = 2.0
					loop = false
				}
			}
		}
}

